(()=>{function t(t,o){var e;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(e=function(t,o){if(t){if("string"==typeof t)return n(t,o);var e=Object.prototype.toString.call(t).slice(8,-1);return"Object"===e&&t.constructor&&(e=t.constructor.name),"Map"===e||"Set"===e?Array.from(t):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?n(t,o):void 0}}(t))||o&&t&&"number"==typeof t.length){e&&(t=e);var a=0,i=function(){};return{s:i,n:function(){return a>=t.length?{done:!0}:{done:!1,value:t[a++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,p=!0,d=!1;return{s:function(){e=t[Symbol.iterator]()},n:function(){var t=e.next();return p=t.done,t},e:function(t){d=!0,r=t},f:function(){try{p||null==e.return||e.return()}finally{if(d)throw r}}}}function n(t,n){(null==n||n>t.length)&&(n=t.length);for(var o=0,e=new Array(n);o<n;o++)e[o]=t[o];return e}var o,e;o=jQuery,e=o.sammy((function(){var n=!0;function e(t){o(".left h1").on("click",(function(){n=!0,t.app.setLocation("#/")}));for(var e=["dogs","cats","rabbits"],a=function(n){o(".middle h1:eq("+n+")").on("click",(function(){t.app.setLocation("#/"+e[n])}))},i=0;i<e.length;i++)a(i);o(".right h1").on("click",(function(){t.app.setLocation("#/contact")}))}function a(){o(".app").prepend('<div class="loading"></div>'),o(".loading").prepend('<img src="imgs/load.gif">')}this.get("#/",(function(t){e(t);for(var i=0,r=[".loading",".adoption-form",".contact",".info",".animals",".animal-details"];i<r.length;i++)o(r[i]).remove();if(a(),n){o(".app").append("<ul class='rslides'></ul>");for(var p=0,d=["dog1.jpg","dog2.jpg","dog3.jpg"];p<d.length;p++){var l=d[p];o(".app ul").append("<li><img src='imgs/"+l+"' alt=''></li>")}o(".app").append("<div class='quote'><h1>Saving one dog will not change the world, but surely for that one dog, the world will change forever.</h1></div>"),n=!1,o(".rslides").responsiveSlides()}o(".loading").remove()})),this.get("#/contact",(function(t){e(t);for(var n=0,i=[".loading",".rslides",".adoption-form",".quote",".info",".animals",".animal-details"];n<i.length;n++)o(i[n]).remove();a(),o(".app").append("<div class='contact'></div>"),o(".app .contact").append("<div class='contact-details'></div>");for(var r=0,p=["80-288 Gda≈Ñsk RandomName 5 Street","Phone: 123 456 789","Email: randomemail@gmail.com","Adoption from Monday to Friday","Working hours: 8:00-16:00"];r<p.length;r++){var d=p[r];o(".contact-details").append("<h1>"+d+"</h1>")}o(".loading").remove()})),this.get("#/:type",(function(n){e(n);for(var i=0,r=[".loading",".rslides",".adoption-form",".contact",".quote",".info",".animals",".animal-details"];i<r.length;i++)o(r[i]).remove();a(),console.log(n.params.type);var p=[];fetch("https://rocky-citadel-32862.herokuapp.com/AdoptAnimal/animals").then((function(t){return t.json()})).then((function(e){p=e.slice(),console.log(p),o(".app").append("<div class='animals'></div>");var a,i=0,r=t(p);try{var d=function(){var t=a.value;console.log(t.type),t.type===n.params.type&&(o(".app .animals").append("<div class='animal'></div>"),o(".app .animal:eq("+i+")").append("<h2>"+t.name+" "+t.age+"</h2>"),o(".app .animal:eq("+i+")").append("<img src="+t.img+">"),o(".animal h2:eq("+i+")").on("click",(function(){o(".animals").remove(),n.app.setLocation("#/"+t.type+"/"+t.id)})),i++)};for(r.s();!(a=r.n()).done;)d()}catch(t){r.e(t)}finally{r.f()}o(".loading").remove()}))})),this.get("#/:type/:id",(function(n){e(n);for(var i=0,r=[".loading",".rslides",".adoption-form",".contact",".quote",".info",".animals"];i<r.length;i++)o(r[i]).remove();console.log(n.params.type),a();var p=[];fetch("https://rocky-citadel-32862.herokuapp.com/AdoptAnimal/animals").then((function(t){return t.json()})).then((function(e){p=e.slice(),console.log(p),o(".loading").remove(),o(".app").append("<div class='animal-details'></div>"),console.log(n.params.id);var a,i=t(p);try{var r=function(){var t=a.value;if(parseInt(t.id)===parseInt(n.params.id)&&t.type===n.params.type){var e=["<h2>"+t.name+"</h2","<img src="+t.img+">",,"<h1> Age: "+t.age+"</h1","<h1> Gender: "+t.gender+"</h1","<h1> Charcter: "+t.description+"</h1","<button>ADOPT</button>"];o(".animal-details").append("<div class='content'></div");for(var i=0,r=e;i<r.length;i++){var p=r[i];o(".content").append(p)}o(".content button").on("click",(function(){o(".animal-details").remove(),n.app.setLocation("#/"+t.type+"/"+t.id+"/adoption")})),id++}};for(i.s();!(a=i.n()).done;)r()}catch(t){i.e(t)}finally{i.f()}}))})),this.get("#/:type/:id/adoption",(function(t){e(t);var n=["First Name","Last Name","City","Street"],a=["First name must containt from 3 to 12 a-z letters","Last Name must containt from 3 to 12 a-z letters","City name must be 3 or more letters long","Street name must be 3 or more letters long"],i=["Phone Number","Email"],r=["Phone Number must contain 9 digits without space","Please enter correct email address"];fetch("https://rocky-citadel-32862.herokuapp.com/AdoptAnimal/animals").then((function(t){return t.json()})).then((function(e){var p,d,l,c;animals=e.slice(),o(".loading").remove(),o(".app").append("<div class='adoption-form'></div"),o(".adoption-form").append("<div class='adoption-content1'></div>"),o(".adoption-content1").append("<h2>Adoption form</h2>");for(var s=0;s<4;s++)o(".adoption-content1").append("<input value='"+n[s]+"' type='text'>"),o(".adoption-content1").append("<p id='hidden'>"+a[s]+"</p>");o(".adoption-content1 input:lt(4)").on("focus",(function(t){"First Name"!==t.target.value&&"Last Name"!==t.target.value&&"City"!==t.target.value&&"Street"!==t.target.value||(t.target.value="")}));for(var u=function(t){o(".adoption-content1 input:eq("+t+")").on("blur",(function(o){""!==o.target.value&&" "!==o.target.value||(o.target.value=n[t])}))},m=0;m<4;m++)u(m);o(".adoption-content1").append("<button>NEXT</button>");var v=!0,f=!0;o(".adoption-content1 button").on("click",(function(){v=!0;for(var n=[/^[a-zA-Z0-9\.\-_]{3,12}$/,/^[a-zA-Z0-9\.\-_]{3,12}$/],e=["City","Street"],a=0;a<2;a++)null===o(".adoption-content1 input:eq("+a+")")[0].value.match(n[a])?(o(".adoption-content1 p:eq("+a+")").attr("id",""),v=!1):o(".adoption-content1 p:eq("+a+")").attr("id","hidden");for(var s=2;s<4;s++)o(".adoption-content1 input:eq("+s+")")[0].value.length<3||o(".adoption-content1 input:eq("+s+")")[0].value===e[s-2]?(o(".adoption-content1 p:eq("+s+")").attr("id",""),v=!1):o(".adoption-content1 p:eq("+s+")").attr("id","hidden");if(v){p=o(".adoption-content1 input:eq(0)")[0].value,d=o(".adoption-content1 input:eq(1)")[0].value,l=o(".adoption-content1 input:eq(2)")[0].value,c=o(".adoption-content1 input:eq(3)")[0].value,o(".adoption-content1").remove(),o(".adoption-form").append("<div class='adoption-content2'></div"),o(".adoption-content2").append("<h2>Adoption form</h2>");for(var u=0;u<i.length;u++)o(".adoption-content2").append("<input value='"+i[u]+"' type='text'>"),o(".adoption-content2").append("<p id='hidden'>"+r[u]+"</p>");o(".adoption-content2").append("<input value='"+animals[t.params.id].name+"' type='text' readonly>"),o(".adoption-content2").append("<input value='"+animals[t.params.id].type.substr(0,animals[t.params.id].type.length-1)+"' type='text' readonly>"),o(".adoption-content2 input:lt(2)").on("focus",(function(t){"Email"!==t.target.value&&"Phone Number"!==t.target.value||(t.target.value="")})),o(".adoption-content2 input:gt(1)").css({"background-color":"#b5c7a3"});for(var m=function(t){o(".adoption-content2 input:eq("+t+")").on("blur",(function(n){""!==n.target.value&&" "!==n.target.value||(n.target.value=i[t])}))},h=0;h<2;h++)m(h);o(".adoption-content2").append("<button id='adopt'>ADOPT</button>"),o(".adoption-content2 button").on("click",(function(){console.log("adopt"),f=!0;for(var t=[/^[Z0-9]{9}$/,/^[a-z0-9\._\-]+@[a-z0-9\.\-]+\.[a-z]{2,4}$/],n=0;n<t.length;n++)null===o(".adoption-content2 input:eq("+n+")")[0].value.match(t[n])?(o(".adoption-content2 p:eq("+n+")").attr("id",""),f=!1):o(".adoption-content2 p:eq("+n+")").attr("id","hidden");v&&f&&fetch("https://rocky-citadel-32862.herokuapp.com/AdoptAnimal/adoptions",{method:"POST",body:JSON.stringify({firstName:p,lastName:d,city:l,street:c,phoneNumber:o(".adoption-content2 input:eq(0)")[0].value,email:o(".adoption-content2 input:eq(1)")[0].value,animalName:o(".adoption-content2 input:eq(2)")[0].value,animalType:o(".adoption-content2 input:eq(3)")[0].value}),headers:{"Content-type":"application/json; charset=UTF-8"}}).then((function(t){console.log(t),alert("adoption request sent"),o(".adoption-form").remove(),o(".app").append("<div class='info'></div>"),o(".info").append("<div class='info-details'></div>");for(var n=0,e=["<h2>Adoption request sent!</h2>","<h1>We will respond to you soon</h1>","<h1>You did something great today</h1>"];n<e.length;n++){var a=e[n];o(".info-details").append(a)}}))}))}}))}))}))})),o((function(){e.run("#/")}))})();